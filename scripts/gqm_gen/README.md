# Goal, Question, Metrics Generator

Creates a Mermaid diagram from Goal, Question, Metrics (GQM) Markdown files.

The instructions below describe how to locally run 
the script that builds the mermaid diagram. 
A GitHub Actions will re-run this script at built time
and regenerate the diagram, but it is good to run 
locally to make sure it will build correctly.

Be sure to also read the instructions in the 
`measuring/use_gqm.md` file path.

## Installation

### Install mermaid CLI globally

From this folder, follow instructions on the 
[mermaid.js README](https://github.com/mermaid-js/mermaid-cli) to run in the terminal: 
```
npm install -g @mermaid-js/mermaid-cli
```

Install project specific node.js based on the package.json in this folder: 
```
npm install
```

## Usage

Builds the mermaid diagram and outputs it to stdout.

```bash
npm run --silent start > gqm.md && mmdc --input gqm.md --output gqm.png
```

Note that the file ending `.mmd` is not a typo. It is mermaid markdown file.

This should generate a file called `gqm.png` or `gqm-1.png` in the same folder as this file.

You will also end up with BOTH a `gqm.md` and a `gqm.mmd` file as the later is created upon running the script.

## Files that impact the generation of the mermaid diagram

Most of the diagram is generated by the `gqm.md` file but be sure to also 
make changes in the files within the `measuring`, `questions`, and `goals` folders as appropriate. 
You'll have to create a file for a new block and edit any file that mentions that new block. 
For example, if you create a new metric, you'll want to create a new markdown file in the 
metrics folder. Additionally, as there is an arrow that goes from that metric to a question, 
you'll want to edit the table in the question file that talks to all the metrics that impact that question. A metric can be connected to one or more questions.

### Warning
Files that are referenced by the mermaid diagram must not use underscores `_` in their filenames. 
Instead use hyphens `-`.